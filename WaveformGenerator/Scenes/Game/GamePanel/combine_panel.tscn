[gd_scene load_steps=15 format=3 uid="uid://iv2mwcn34xpk"]

[ext_resource type="Script" uid="uid://bun85ykhhopao" path="res://combine_panel.gd" id="1_t3nj2"]
[ext_resource type="Texture2D" uid="uid://bj8i6ospeae23" path="res://Sprites/combine panel.png" id="2_fan46"]
[ext_resource type="PackedScene" uid="uid://bv3oflu42ydqa" path="res://Scenes/Game/Slot/slot.tscn" id="3_fan46"]
[ext_resource type="Texture2D" uid="uid://rstre226w5ku" path="res://Sprites/buttons/additive N.png" id="4_61cvg"]
[ext_resource type="Texture2D" uid="uid://dm1irpa7kpt7e" path="res://Sprites/buttons/exclusive N.png" id="5_50t5j"]
[ext_resource type="Texture2D" uid="uid://n6ipfli587h7" path="res://Sprites/buttons/additive P.png" id="5_n8ynb"]
[ext_resource type="Texture2D" uid="uid://bdkueidlucaf0" path="res://Sprites/buttons/additive H.png" id="6_syrw3"]
[ext_resource type="Texture2D" uid="uid://cbf30edvexueh" path="res://Sprites/buttons/exclusive P.png" id="8_lkntd"]
[ext_resource type="Texture2D" uid="uid://crg64jk2ax2v7" path="res://Sprites/buttons/exclusive H.png" id="9_is6cw"]
[ext_resource type="Texture2D" uid="uid://bjrc6poerrhy1" path="res://Sprites/panel hover.png" id="10_syrw3"]

[sub_resource type="Animation" id="Animation_is6cw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("hover bl:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-402, 7)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("hover tr:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(402, -7)]
}

[sub_resource type="Animation" id="Animation_lkntd"]
resource_name = "hover in"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("hover bl:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(0.5, 1),
"update": 0,
"values": [Vector2(-402, 7), Vector2(-414, 19)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("hover tr:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(0.5, 1),
"update": 0,
"values": [Vector2(402, -7), Vector2(414, -19)]
}

[sub_resource type="Animation" id="Animation_syrw3"]
resource_name = "hover out"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("hover bl:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(0.5, 1),
"update": 0,
"values": [Vector2(-414, 19), Vector2(-402, 7)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("hover tr:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(0.5, 1),
"update": 0,
"values": [Vector2(414, -19), Vector2(402, -7)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_oi3l8"]
_data = {
&"RESET": SubResource("Animation_is6cw"),
&"hover in": SubResource("Animation_lkntd"),
&"hover out": SubResource("Animation_syrw3")
}

[node name="CombinePanel" type="Node2D" node_paths=PackedStringArray("slot1", "slot2", "slot3", "hover_anim_player", "additive_button", "exclusive_button")]
script = ExtResource("1_t3nj2")
slot1 = NodePath("Slot")
slot2 = NodePath("Slot2")
slot3 = NodePath("Slot3")
hover_anim_player = NodePath("HoverAnimationPlayer")
additive_button = NodePath("Additive Button")
exclusive_button = NodePath("Exclusive Button")
metadata/_custom_type_script = "uid://vqkbotyl66y0"

[node name="background" type="Sprite2D" parent="."]
texture = ExtResource("2_fan46")

[node name="Slot" parent="." instance=ExtResource("3_fan46")]
position = Vector2(-260, 0)

[node name="Slot2" parent="." instance=ExtResource("3_fan46")]
position = Vector2(-100, 0)

[node name="Slot3" parent="." instance=ExtResource("3_fan46")]
position = Vector2(140, 0)

[node name="Additive Button" type="TextureButton" parent="."]
offset_left = 240.0
offset_top = -100.0
offset_right = 320.0
offset_bottom = -20.0
texture_normal = ExtResource("4_61cvg")
texture_pressed = ExtResource("5_n8ynb")
texture_hover = ExtResource("6_syrw3")

[node name="Exclusive Button" type="TextureButton" parent="."]
visible = false
offset_left = 240.0
offset_top = 20.0
offset_right = 320.0
offset_bottom = 100.0
texture_normal = ExtResource("5_50t5j")
texture_pressed = ExtResource("8_lkntd")
texture_hover = ExtResource("9_is6cw")

[node name="hover bl" type="Sprite2D" parent="."]
z_index = -10
position = Vector2(-402, 7)
texture = ExtResource("10_syrw3")
centered = false

[node name="hover tr" type="Sprite2D" parent="."]
z_index = -10
position = Vector2(402, -7)
rotation = 3.1415927
texture = ExtResource("10_syrw3")
centered = false

[node name="HoverAnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_oi3l8")
}

[connection signal="button_down" from="Additive Button" to="." method="_on_additive_button_button_down"]
[connection signal="button_up" from="Additive Button" to="." method="_on_additive_button_button_up"]
[connection signal="mouse_entered" from="Additive Button" to="." method="_on_additive_button_mouse_entered"]
[connection signal="mouse_exited" from="Additive Button" to="." method="_on_additive_button_mouse_exited"]
[connection signal="button_down" from="Exclusive Button" to="." method="_on_exclusive_button_button_down"]
[connection signal="button_up" from="Exclusive Button" to="." method="_on_exclusive_button_button_up"]
[connection signal="mouse_entered" from="Exclusive Button" to="." method="_on_exclusive_button_mouse_entered"]
[connection signal="mouse_exited" from="Exclusive Button" to="." method="_on_exclusive_button_mouse_exited"]
